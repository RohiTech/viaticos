/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package paneles;

import Controlador.CtrlTecnicos;
import Modelo.Empleado;
import principal.diaEditTecnico;
import javax.swing.JOptionPane;

/**
 *
 * @author AUXINVTIC
 */
public class pnlListaTecnicos extends javax.swing.JPanel {

    CtrlTecnicos ctrl = new CtrlTecnicos();
    public pnlListaTecnicos() {
        initComponents();
        ctrl.llenarTabla(tblTecnicos);
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jPanel1 = new javax.swing.JPanel();
        jScrollPane1 = new javax.swing.JScrollPane();
        tblTecnicos = new javax.swing.JTable();

        setLayout(new javax.swing.BoxLayout(this, javax.swing.BoxLayout.LINE_AXIS));

        jPanel1.setLayout(new java.awt.CardLayout());

        tblTecnicos.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        tblTecnicos.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null, null, null, null},
                {null, null, null, null, null, null, null},
                {null, null, null, null, null, null, null},
                {null, null, null, null, null, null, null}
            },
            new String [] {
                "#", "IDENTIFICACIÓN", "NOMBRE", "TELÉFONO", "DIRECCIÓN", "CORREO ELECTRÓNICO", "EDITAR"
            }
        ));
        tblTecnicos.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        tblTecnicos.setGridColor(new java.awt.Color(204, 204, 204));
        tblTecnicos.setRowHeight(74);
        tblTecnicos.setSelectionBackground(new java.awt.Color(204, 204, 204));
        tblTecnicos.setSelectionForeground(new java.awt.Color(204, 51, 0));
        tblTecnicos.setShowVerticalLines(false);
        tblTecnicos.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                tblTecnicosMouseClicked(evt);
            }
        });
        jScrollPane1.setViewportView(tblTecnicos);

        jPanel1.add(jScrollPane1, "card2");

        add(jPanel1);
    }// </editor-fold>//GEN-END:initComponents

    private void tblTecnicosMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_tblTecnicosMouseClicked
        int fila = tblTecnicos.rowAtPoint(evt.getPoint());
        int columna = tblTecnicos.columnAtPoint(evt.getPoint());
        
        if(columna == 11){
            //JOptionPane.showMessageDialog(null,"Bien");
            validarSeleccion(fila);
        }
    }//GEN-LAST:event_tblTecnicosMouseClicked


    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JPanel jPanel1;
    private javax.swing.JScrollPane jScrollPane1;
    public javax.swing.JTable tblTecnicos;
    // End of variables declaration//GEN-END:variables

    private void validarSeleccion(int fila) {
        Empleado tec = new Empleado();
        tec.setId(tblTecnicos.getValueAt(fila, 1).toString());
        diaEditTecnico dialog = new diaEditTecnico(new java.awt.Frame(), true, this, tec);
        dialog.setVisible(true);
//        String mensaje = "INFORMACIÓN DEL TÉCNICO SELECCIONADO: \n";
//        mensaje += "Identficación: "+tblTecnicos.getValueAt(fila, 1).toString()+"\n";
//        mensaje += "Nombre: "+tblTecnicos.getValueAt(fila, 2).toString()+"\n";
//        mensaje += "Teléfono: "+tblTecnicos.getValueAt(fila, 3).toString()+"\n";
//        mensaje += "Direccion: "+tblTecnicos.getValueAt(fila, 4).toString()+"\n";
//       
//        int resp = JOptionPane.showConfirmDialog(null, mensaje, "Alerta!", JOptionPane.YES_NO_OPTION);
    }
}
